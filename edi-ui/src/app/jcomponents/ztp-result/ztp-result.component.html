<div class="row" style="margin-bottom:100px;">
    <div *ngFor="let result of finalResults" id="result-{{result.playResult.transactionId}}" class="col-xs-12">
        <h5 style="cursor:pointer;" (click)="onOpen($event, result.playResult)"><i style="padding-right:3px;top:0;" class="pull-left float-xs-left glyphicon glyphicon-chevron-right" id="chevron-{{result.playResult.transactionId}}"></i><i *ngIf="result.playResult.verified == true" style="color:green;" title="Rejected" class="fa fa-sm fa-check-circle pull-left"></i><i *ngIf="result.playResult.verified == false" style="color:red;" title="Verified" class="fa fa-sm fa-times-circle pull-left"></i>{{result.playResult.title}}</h5>
        <div class="result result-hidden" #placeholder *ngFor="let task of result.playResult.tasks">
            <table class="table table-striped">
              <tbody>
                <tr>
                  <td style="width:20%;font-weight:bold;">Task Name:</td>
                  <td>{{task.name}}</td>
                </tr>
                <tr>
                  <td style="width:20%;font-weight:bold;">Result:</td>
                  <td>{{task.status}}</td>
                </tr>
                <tr>
                    <td style="width:20%;font-weight:bold;">Message:</td>
                    <td>{{task.msg}}</td>
                </tr>
                <tr>
                  <td style="font-weight:bold;" colspan="2">Details:</td>
                </tr>
                <tr>
                  <td colspan="2">
                    <table class="table">
                      <tr>  
                        <td style="font-weight:bold;">Module Name</td>
                        <td colspan="3">{{task.invocation.module_name}}</td>
                      </tr>
                      <tr>
                        <td style="font-weight:bold;" colspan="4">Module Args:</td>
                      </tr>
                      <tr *ngFor="let args of task.invocation.module_args | keys">
                        <td style="font-weight:bold;padding-left:15px;">Parameter:</td>
                        <td>{{args}}</td>
                        <td style="font-weight:bold;">Value:</td>
                        <td>{{task.invocation.module_args[args]}}</td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
        </div>
    </div>
</div>
<div class="row" style="margin-bottom:100px;">
    <div class="col-lg-12">
        <div class="row">
            <div class="col-lg-1">Result Id:</div>
            <div class="col-lg-3">{{playResult._id.$oid}}</div>
        </div>
        <div class="row">
            <div class="col-lg-12">Playbook Stats</div>
        </div>
        <div class="row" *ngFor="let stat of playResult.stats | keys">
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">{{stat}}</div>
                </div>
                <div class="row">
                    <div class="col-lg-2" *ngFor="let val of playResult.stats[stat] | keys">
                        {{val}}:{{playResult.stats[stat][val]}}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12"><span>Plays</span></div>
        </div>
        <div class="row" *ngFor="let play of playResult.plays">
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-4">
                        <span>Play Id:</span><span>{{play.play.id}}</span>
                    </div>
                    <div class="col-lg-4">
                        <span>Play Name:</span><span>{{play.play.name}}</span>
                    </div>
                    <div class="col-lg-4">
                        <span>Start Time:</span><span>{{play.play.starttime}}</span>
                    </div>
                </div>
                <div class="row" *ngFor="let task of play.tasks">
                    <div class="col-lg-12">
                        <table class="table table-striped">
                                <tbody>
                                  <tr>
                                    <td style="width:20%;font-weight:bold;">Task Name:</td>
                                    <td>{{task.task.name}}</td>
                                  </tr>
                                  <tr>
                                    <td style="width:20%;font-weight:bold;">Result:</td>
                                    <td>{{task.task.status}}</td>
                                  </tr>
                                  <tr>
                                      <td style="width:20%;font-weight:bold;">Message:</td>
                                      <td>{{task.task.msg}}</td>
                                  </tr>
                                  <tr>
                                    <td style="font-weight:bold;" colspan="2">Details:</td>
                                  </tr>
                                  <tr>
                                    <td colspan="2">

                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                        </div>  
                </div>
            </div>
        </div>
    </div>
</div>